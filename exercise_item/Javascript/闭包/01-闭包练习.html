<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>闭包</title>
</head>
<body>
<script>
    function fn(){
        var num = 1;
        function fn1(){
            num ++;
            console.log(num);
            //console.log((num++)+1);//2,3
        }
        fn1();
        fn1();
    }
    fn();

    // 1. 闭包缓存数据
    function foo(){
        var a = 123;
//        return {
//            b:456,
//            c:789
//        }
        return function () {
            alert(1)
        }
    }
    var foo1 = foo();
    var foo2 = foo1;
    var foo3 = foo1;
    console.log(foo1.b);
    console.log(foo2());
    /*------------------------------------------------------------*/
    function fn2(){
        var a = Math.random();
        return a;
    }
    var o = fn2();
    var o1 = fn2();
    console.log(o);//0.41954877063765217
    console.log(o1);//0.9313333120545462
    /*------------------------------------------------------------*/


    /*------------------------------------------------------------*/
    function fn3(){
        var a = Math.random();
        return function () {
            return a;
        };
    }
    var o2 = fn3();
    var o3 = o2();
    var o4 = o2();
    console.log(o3);
    console.log(o4);
    /*------------------------------------------------------------*/
</script>
</body>
</html>